(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{181:function(e,n,t){"use strict";t.r(n);var a=t(0),r=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("h4",{attrs:{id:"使用-px2rem"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-px2rem","aria-hidden":"true"}},[e._v("#")]),e._v(" 使用 px2rem")]),e._v(" "),t("p",[t("strong",[e._v("2019 年 3 月 17 日 16 点 26 分")])]),e._v(" "),t("p",[e._v("@vue/cli 3.X")]),e._v(" "),t("p",[e._v("安装 "),t("code",[e._v("lib-flexible")]),e._v(" 动态给根元素设置 font-size,data-dpr\n安装 "),t("code",[e._v("px2rem-loader")]),e._v(" 将 px 转化为 rem")]),e._v(" "),t("ol",[t("li",[e._v("main.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("...\nimport 'lib-flexible/flexible'\n...\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("vue.config.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("module.exports = {\n    chainWebpack: config => {\n        config.module\n            .rule('scss')\n            .oneOf('vue')\n            .use('px2rem-loader')\n            .loader('px2rem-loader')\n            .before('postcss-loader') // this makes it work.\n            .options({ remUnit: 75, remPrecision: 8 })\n            .end()\n    }\n}\n\nremUnit: 表示当前设计稿为 750px; remPrecision: 表示转换后保留8为小数, 取值区间[0, 100]\n")])])]),t("blockquote",[t("p",[e._v("需要注意的是 "),t("code",[e._v("px2rem-loader")]),e._v(" 必须在 scss-loader 前面, 不然会报错")])]),e._v(" "),t("p",[e._v("其他动态设置根元素字体的方法：")]),e._v(" "),t("p",[e._v("1.还有一个使用 hotcss.js 这个也是根据当前设备自动设置根元素的 font-size 和 data-dpr, 但是和 px2rem-loader 配合起来有点问题\n2.rem.js, 也是配合起来和 px2rem 存在问题")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("(function(doc, win) {\n    var docEl = doc.documentElement,\n        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n        recalc = function() {\n            var clientWidth = docEl.clientWidth;\n            if (!clientWidth) return;\n            docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';\n        };\n    if (!doc.addEventListener) return;\n    win.addEventListener(resizeEvt, recalc, false);\n    doc.addEventListener('DOMContentLoaded', recalc, false);\n})(document, window);\n")])])])])}],!1,null,null,null);n.default=r.exports}}]);